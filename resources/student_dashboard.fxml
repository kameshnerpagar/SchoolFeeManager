<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="application.controller.StudentDashboardController"
            prefWidth="1100" prefHeight="700"
            stylesheets="@style.css">

    <!-- TOP BAR -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT"
              style="-fx-background-color:#1976D2; -fx-padding: 15;">
            <Label text="School Fee Manager"
                   style="-fx-text-fill: white; -fx-font-size: 20; -fx-font-weight: bold;" />
            <Pane HBox.hgrow="ALWAYS" />
            <Label fx:id="welcomeLabel"
                   text="Welcome, student"
                   style="-fx-text-fill: white; -fx-font-size: 14;" />
            <Button text="Logout" onAction="#logout"
                    style="-fx-background-color:#fff; -fx-text-fill:black; -fx-font-weight:bold;"/>
        </HBox>
    </top>


    <!-- MAIN CONTENT -->
    <center>
        <VBox spacing="20" style="-fx-padding: 20;">

            <!-- 3 SUMARY CARDS -->
            <HBox spacing="20">
                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;"
                      HBox.hgrow="ALWAYS">
                    <Label text="Total Fee" style="-fx-text-fill:#555;" />
                    <Label fx:id="totalFeeLabel" text="₹0"
                           style="-fx-font-size:24; -fx-font-weight:bold;" />
                </VBox>

                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;"
                      HBox.hgrow="ALWAYS">
                    <Label text="Paid Fee" style="-fx-text-fill:#555;" />
                    <Label fx:id="paidFeeLabel" text="₹0"
                           style="-fx-font-size:24; -fx-font-weight:bold;" />
                </VBox>

                <VBox style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;"
                      HBox.hgrow="ALWAYS">
                    <Label text="Pending" style="-fx-text-fill:#555;" />
                    <Label fx:id="pendingFeeLabel" text="₹0"
                           style="-fx-font-size:24; -fx-font-weight:bold; -fx-text-fill:red;" />
                </VBox>
            </HBox>


            <!-- PAYMENT + NOTIFICATIONS -->
            <HBox spacing="20" HBox.hgrow="ALWAYS">

                <!-- PAYMENT HISTORY TABLE -->
                <VBox spacing="10" HBox.hgrow="ALWAYS">
                    <Label text="Payment History" style="-fx-font-size:16; -fx-font-weight:bold;" />

                    <!-- KEEP YOUR EXISTING TABLE HERE -->
                    <TableView fx:id="paymentHistoryTable" prefHeight="300" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="dateColumn" text="Date" prefWidth="220" />
                            <TableColumn fx:id="amountColumn" text="Amount" prefWidth="180" />
                            <TableColumn fx:id="typeColumn" text="Type" prefWidth="200" />
                        </columns>
                    </TableView>

                </VBox>

                <!-- NOTIFICATIONS LIST -->
                <VBox spacing="12" styleClass="card" style="-fx-padding:18;">
                    <Label text="Notifications"
                           style="-fx-font-size:16px; -fx-font-weight:bold;"/>

                    <ListView fx:id="notificationList"
                              styleClass="clean-list"
                              prefHeight="220"/>
                </VBox>

            </HBox>


            <!-- ANNOUNCEMENTS -->
            <VBox spacing="12" styleClass="card" style="-fx-padding:18;">
                <Label text="Announcements"
                       style="-fx-font-size:16px; -fx-font-weight:bold;"/>
                <ListView fx:id="announcementList"
                          styleClass="clean-list"
                          prefHeight="180"/>
            </VBox>

            <!-- PAY BUTTON -->
            <Button text="Pay Fee"
                    onAction="#openPayPopup"
                    style="-fx-background-color:#43a047; -fx-text-fill:white;
                           -fx-padding:12 25; -fx-font-size:16; -fx-background-radius:8;"
                    VBox.vgrow="NEVER"/>

        </VBox>
    </center>

</BorderPane>

